<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cut Buddy Mobile Solver Benchmark</title>
    <link rel="icon" href="/favicon.svg" type="image/svg+xml" />
    <link rel="icon" href="/favicon.ico" sizes="any" />
    <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
    <style>
      body {
        font-family: ui-monospace, SFMono-Regular, Menlo, Consolas, monospace;
        margin: 1.25rem;
        max-width: 980px;
        line-height: 1.4;
      }

      h1 {
        margin-bottom: 0.5rem;
      }

      .row {
        display: flex;
        gap: 0.75rem;
        flex-wrap: wrap;
        margin: 0.75rem 0;
      }

      label {
        display: grid;
        gap: 0.25rem;
        min-width: 10rem;
      }

      input {
        padding: 0.45rem 0.5rem;
        font-size: 0.95rem;
      }

      button {
        padding: 0.5rem 0.85rem;
        font-size: 0.95rem;
      }

      #benchStatus {
        margin-top: 0.75rem;
        font-weight: 700;
      }

      #benchLog,
      #benchCsv {
        white-space: pre-wrap;
        border: 1px solid #d7d7d7;
        border-radius: 8px;
        padding: 0.75rem;
        margin-top: 0.75rem;
        background: #fafafa;
      }

      #benchCsv {
        min-height: 220px;
        overflow-x: auto;
      }
    </style>
  </head>
  <body>
    <h1>Mobile Solver Benchmark</h1>
    <p>
      Runs deterministic heuristic vs exact (worker) timing on this device/browser. Use this on iOS Safari and mobile
      Chrome to complete Phase 4 rollout validation.
    </p>
    <p>
      Includes sanity cases (8/12/16 cuts) that should often complete, plus stress cases (20/40/60/100) that are
      expected to time out under bounded budgets.
    </p>

    <div class="row">
      <label>
        Iterations
        <input id="iterationsInput" type="number" min="1" max="50" step="1" value="8" />
      </label>
      <label>
        Exact budget (ms)
        <input id="budgetInput" type="number" min="1" max="900000" step="1" value="1200" />
      </label>
    </div>

    <div class="row">
      <button id="runBenchmark" type="button">Run benchmark</button>
      <button id="copyCsv" type="button">Copy CSV</button>
      <button id="downloadCsv" type="button">Download CSV</button>
    </div>

    <p id="benchStatus">Ready.</p>
    <pre id="benchLog">Waiting to run.</pre>
    <pre id="benchCsv">CSV output will appear here.</pre>

    <script src="scripts/engine.js?v=20260207b"></script>
    <script src="scripts/mobile-benchmark.js?v=20260207b"></script>
  </body>
</html>
